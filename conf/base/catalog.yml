# Documentation for this file format can be found in "The Data Catalog"
# Link: https://docs.kedro.org/en/stable/data/data_catalog.html
_js: &_js
  type: json.JSONDataset
  credentials: s3_credentials

_pq: &_pq
  type: pandas.ParquetDataset
  credentials: s3_credentials
  load_args:
    engine: pyarrow

_pq_ptd: &_pq_ptd
  type: partitions.PartitionedDataset
  dataset: 
    type: pandas.ParquetDataset
    save_args:
      engine: pyarrow
    load_args:
      engine: pyarrow
  filename_suffix: '.parquet'
  credentials: s3_credentials

_csv: &_csv
  type: pandas.CSVDataset
  credentials: s3_credentials

_txt: &_txt
  type: text.TextDataset
  credentials: s3_credentials

_image: &_image
  type: pillow.ImageDataset
  credentials: s3_credentials

_pkl: &_pkl
  type: pickle.PickleDataset
  credentials: s3_credentials
  backend: pickle

_js_ptd: &_js_ptd
  type: partitions.PartitionedDataset
  dataset: json.JSONDataset
  filename_suffix: ".json"
  credentials: s3_credentials

_csv_ptd: &_csv_ptd
  type: partitions.PartitionedDataset
  dataset:
    type: pandas.CSVDataset
    save_args:
      index: False
  filename_suffix: '.csv'
  credentials: s3_credentials

gtr.data_collection.publications.raw:
  <<: *_pq_ptd
  path: s3://igl-dsit-impact/03_impact/data/01_raw/gtr/publications/

gtr.data_collection.publications.intermediate: &gtr_input_publications
  <<: *_pq
  filepath: s3://igl-dsit-impact/03_impact/data/02_intermediate/gtr/publications/main.parquet

oa.data_matching.gtr.input:
  <<: *gtr_input_publications

oa.data_matching.gtr.doi.raw:
  <<: *_js_ptd
  path: s3://igl-dsit-impact/03_impact/data/01_raw/oa/gtr/doi/

oa.data_matching.gtr.doi.intermediate:
  <<: *_pq
  filepath: s3://igl-dsit-impact/03_impact/data/02_intermediate/oa/gtr/doi/main.parquet
  
cr.data_matching.gtr.doi.raw:
  <<: *_pq_ptd
  path: s3://igl-dsit-impact/03_impact/data/01_raw/cr/matches/